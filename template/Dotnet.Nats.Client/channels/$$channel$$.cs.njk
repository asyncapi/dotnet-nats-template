
{%- from "../../../partials/channel/Publish.njk" import publish %}
{%- from "../../../partials/channel/Reply.njk" import reply %}
{%- from "../../../partials/channel/Request.njk" import request %}
{%- from "../../../partials/channel/Subscribe.njk" import subscribe %}
using NATS.Client;
using System;
using System.Text;

namespace Dotnet.Nats.Client.channels
{
    class {{channelName | pascalCase}}
    {
{%- if channel | isRequestReply %}
  {%- if channel | isRequester %}
  {{ request(channelName, channel.parameters(), channel.subscribe().message(0), channel.publish().message(0)) }}
  {%- endif %}
  {%- if channel | isReplier %}
  {{ reply(channelName, channel.parameters(), channel.subscribe().message(0), channel.publish().message(0)) }}
  {%- endif %}
{%- endif %}

{%- if channel | isPubsub %}
  {%- if channel.hasSubscribe() %}
  {{ publish(channelName, channel.parameters(), channel.subscribe().message(0)) }}
  {%- endif %}
  {%- if channel.hasPublish() %}
  {{ subscribe(channelName, channel.parameters(), channel.publish().message(0)) }}
  {%- endif %}
{%- endif %}

    }
}